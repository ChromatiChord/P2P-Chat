(this.webpackJsonpp2p_boilerplate=this.webpackJsonpp2p_boilerplate||[]).push([[0],{72:function(e,t,n){},75:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=75},88:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(26),a=n.n(s),j=(n(72),n(8)),b=n(45),o=n(13),O=n(30),u=n(120),i=n(121),g=n(47);var l=n(2);var x=function(e){var t=Object(g.sha224)(e.ownID+e.partnerID),n=Object(g.sha224)(e.partnerID+e.ownID),r=Object(c.useState)([]),s=Object(j.a)(r,2),a=s[0],b=s[1],o=Object(c.useState)("Message"),x=Object(j.a)(o,2),I=x[0],d=x[1],h=Object(O.usePeerState)({senderID:"setup",message:""},{brokerId:t}),D=Object(j.a)(h,5),f=(D[0],D[1]);D[2],D[3],D[4];var p=Object(O.useReceivePeerState)(n),v=Object(j.a)(p,3),P=v[0],m=(v[1],v[2],function(){var e=Object(c.useRef)(!0);return Object(c.useEffect)((function(){e.current=!1}),[]),e.current}());return Object(c.useEffect)((function(){m||"setup"!==P.senderID&&(console.log("Recieved Message:"),console.log(P),b(a.concat([{senderID:P.senderID,message:P.message}])))}),[P]),Object(l.jsxs)(l.Fragment,{children:["Talking to: ",e.partnerID,Object(l.jsx)("br",{}),"As: ",e.ownID,Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Message:",Object(l.jsx)(u.a,{onChange:function(e){d(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(i.a,{onClick:function(){return function(){var t={senderID:e.ownID,message:I};f(t),b(a.concat([t]))}()},children:"Send Message"}),a.map((function(e){return Object(l.jsxs)("div",{children:[e.senderID,": ",e.message]})}))]})};var I=function(e){var t=Object(o.g)();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Your user ID",Object(l.jsx)(u.a,{onChange:function(t){e.setownID(t.target.value)}}),e.ownID,Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Other User ID",Object(l.jsx)(u.a,{onChange:function(t){e.setPartnerID(t.target.value)}}),e.partnerID,Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(i.a,{onClick:function(){return e.setIsLogged(!0),void t("/P2PChat/message")},children:"Establish Connection"})]})},d=function(){var e=Object(c.useState)("Partner ID"),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)("Own ID"),a=Object(j.a)(s,2),O=a[0],u=a[1],i=Object(c.useState)(!1),g=Object(j.a)(i,2),d=g[0],h=g[1];return Object(l.jsx)(b.a,{children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:"/P2PChat",element:Object(l.jsx)(I,{ownID:n,setownID:r,partnerID:O,setPartnerID:u,setIsLogged:h})}),Object(l.jsx)(o.b,{path:"/P2PChat/message",element:d?Object(l.jsx)(x,{ownID:n,partnerID:O}):Object(l.jsx)(o.a,{replace:!0,to:"/P2PChat"})}),Object(l.jsx)(o.b,{path:"*",element:Object(l.jsx)(o.a,{replace:!0,to:d?"/P2PChat/message":"/P2PChat"})})]})})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root")),h()}},[[88,1,2]]]);
//# sourceMappingURL=main.eca1ccb3.chunk.js.map