(this.webpackJsonpp2p_boilerplate=this.webpackJsonpp2p_boilerplate||[]).push([[0],{73:function(e,t,n){},75:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=75},88:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(26),s=n.n(c),o=(n(73),n(8)),j=n(46),i=n(13),b=n(36),u=n(120),l=n(121),O=n(48);var h=n(2);var d=function(e){var t=Object(O.sha224)(e.ownID+e.partnerID),n=Object(O.sha224)(e.partnerID+e.ownID),a=Object(r.useState)([]),c=Object(o.a)(a,2),s=c[0],j=c[1],i=Object(r.useState)("Message"),d=Object(o.a)(i,2),x=d[0],p=d[1],g=Object(b.usePeerState)({senderID:"setup",message:""},{brokerId:t}),f=Object(o.a)(g,5),I=(f[0],f[1]);f[2],f[3],f[4];var m=Object(b.useReceivePeerState)(n),D=Object(o.a)(m,3),v=D[0],P=(D[1],D[2],function(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){e.current=!1}),[]),e.current}());return Object(r.useEffect)((function(){P||"setup"!==v.senderID&&(console.log("Recieved Message:"),console.log(v),j(s.concat([{senderID:v.senderID,message:v.message}])))}),[v]),Object(h.jsxs)("center",{children:["Talking to: ",e.partnerID,Object(h.jsx)("br",{}),"As: ",e.ownID,Object(h.jsx)("br",{}),Object(h.jsx)(u.a,{id:"outlined-helperText",label:"Message",onChange:function(e){p(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(l.a,{variant:"outlined",onClick:function(){return function(){var t={senderID:e.ownID,message:x};I(t),j(s.concat([t]))}()},children:"Send Message"}),s.map((function(e){return Object(h.jsxs)("div",{children:[e.senderID,": ",e.message]})}))]})},x=n(123);var p=function(e){var t=Object(i.g)();return Object(h.jsxs)("center",{children:[Object(h.jsx)(x.a,{variant:"h2",sx:{fontFamily:"Roboto",margin:"14px"},children:"Peer 2 Peer Chat"}),Object(h.jsxs)(x.a,{sx:{fontFamily:"Roboto"},children:["A simple peer to peer chat app. ",Object(h.jsx)("br",{}),"Both you and your peer can choose any name you wish, share those names ",Object(h.jsx)("br",{}),"with each other, and connect over a secure two way connection to chat!"]}),Object(h.jsx)(u.a,{id:"outlined-helperText",label:"Your Username",helperText:"(Share this with your peer)",onChange:function(t){e.setownID(t.target.value)},sx:{marginTop:"20px"}}),Object(h.jsx)("br",{}),Object(h.jsx)(u.a,{id:"outlined-helperText",label:"Peer Username",helperText:"(Username you wish to connect to)",onChange:function(t){e.setPartnerID(t.target.value)},sx:{margin:"14px"}}),Object(h.jsx)("br",{}),Object(h.jsx)(l.a,{variant:"outlined",onClick:function(){return e.setIsLogged(!0),void t("/P2PChat/message")},children:"Establish Connection"})]})},g=function(){var e=Object(r.useState)("Partner ID"),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)("Own ID"),s=Object(o.a)(c,2),b=s[0],u=s[1],l=Object(r.useState)(!1),O=Object(o.a)(l,2),x=O[0],g=O[1];return Object(h.jsx)(j.a,{children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{exact:!0,path:"/P2PChat",element:Object(h.jsx)(p,{ownID:n,setownID:a,partnerID:b,setPartnerID:u,setIsLogged:g})}),Object(h.jsx)(i.b,{path:"/P2PChat/message",element:x?Object(h.jsx)(d,{ownID:n,partnerID:b}):Object(h.jsx)(i.a,{replace:!0,to:"/P2PChat"})}),Object(h.jsx)(i.b,{path:"*",element:Object(h.jsx)(i.a,{replace:!0,to:x?"/P2PChat/message":"/P2PChat"})})]})})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root")),f()}},[[88,1,2]]]);
//# sourceMappingURL=main.c2496603.chunk.js.map